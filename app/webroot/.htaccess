<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]
</IfModule>

## tweaking for yslow improvements - uncomment for prod
## <IfModule mod_deflate.c>
##   # compress content with type html, text, and css
##   AddOutputFilterByType DEFLATE text/css text/javascript application/x-javascript text/js
##   <IfModule mod_headers.c>
##     # properly handle requests coming from behind proxies
##     Header append Vary User-Agent
##   </IfModule>
## </IfModule>

## <IfModule mod_expires.c> 
##   ExpiresActive On
##   ExpiresByType text/css "access plus 10 years"
##   ExpiresByType text/js "access plus 10 years"
##   ExpiresByType text/javascript "access plus 10 years"
##   ExpiresByType application/x-javascript "access plus 10 years"
##   ExpiresByType image/png "access plus 10 years"
##   ExpiresByType image/gif "access plus 10 years"
##   ExpiresByType image/jpeg "access plus 10 years"
## </IfModule>

## FileETag none 
# tweaking for yslow improvements - uncomment for prod
<IfModule mod_deflate.c>
   # compress content with type html, text, and css
   AddOutputFilterByType DEFLATE text/css text/javascript application/x-javascript text/js
   <IfModule mod_headers.c>
     # properly handle requests coming from behind proxies
     Header append Vary User-Agent
   </IfModule>
</IfModule>

<FilesMatch "^\/(cjs|ccss)">
# set expires causes 500 error on some systems
#Header set Expires "Thu, 15 Apr 2012 20:00:00 GMT"
# etag ~  causes 500 error on some systems
FileETag None
</FilesMatch>

<FilesMatch "\.(ico|pdf|flv|jpg|jpeg|png|gif|js|css|swf)(\.gz)?$">
# set expires causes 500 error on some systems
#Header set Expires "Thu, 15 Apr 2012 20:00:00 GMT"
# etag ~  causes 500 error on some systems
#Header unset ETag
FileETag None
</FilesMatch>